---
// src/pages/projects.astro
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.tsx';
import BottomNavigation from '../components/BottomNavigation.tsx';
import ProjectsList from '../components/ProjectsList.tsx';
import { projects } from '../data/projects.js';

const currentPath = Astro.url.pathname;

// Group projects by location
const emaarProjects = projects.filter(p => p.location === 'Emaar');
const hmrProjects = projects.filter(p => p.location === 'HMR');
---

<Layout title="Projects - BYG">
  <Navigation currentPath={currentPath} client:load />
  <BottomNavigation currentPath={currentPath} client:load />
  
  <ProjectsList 
    projects={projects}
    emaarProjects={emaarProjects}
    hmrProjects={hmrProjects}
    client:load 
  />
</Layout>