import{j as r}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.BVOCwoKb.js";import{g as d,S as y}from"./ScrollToPlugin.BtQFNwPr.js";import{projects as I}from"./projects.CAx7HXcE.js";d.registerPlugin(y);const C=({currentPath:P,isVisible:h=!1})=>{const s=a.useRef(null),[u,m]=a.useState(null),[x,f]=a.useState(!1),l=a.useRef(null);a.useEffect(()=>(v(),()=>{l.current&&l.current.disconnect()}),[]);const v=()=>{const e={root:null,rootMargin:"-50% 0px -50% 0px",threshold:0};l.current=new IntersectionObserver(n=>{x||n.forEach(o=>{if(o.isIntersecting){const t=o.target.getAttribute("data-project");t&&m(parseInt(t))}})},e),document.querySelectorAll("[data-project]").forEach(n=>{l.current&&l.current.observe(n)})},b=(e,i)=>{i?.preventDefault();const n=`project-${e.id}`,o=document.getElementById(n);if(o){f(!0),m(e.id);const p=o.getBoundingClientRect().top+window.pageYOffset-80;d.to(window,{scrollTo:p,duration:1,ease:"power2.out",onComplete:()=>{setTimeout(()=>{f(!1)},100)}}),j(o)}},j=e=>{d.timeline().to(e,{y:-15,boxShadow:"0 40px 100px rgba(0, 0, 0, 0.25)",duration:.6,ease:"power2.out"}).to(e.querySelector(".project-image")||e.querySelector("img"),{scale:1.02,duration:.6,ease:"power2.out"},0).to(e,{y:0,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.15)",duration:.6,ease:"power2.out",delay:1.4}).to(e.querySelector(".project-image")||e.querySelector("img"),{scale:1,duration:.6,ease:"power2.out"},"-=0.6")},w=e=>{if(!s.current)return;const i=s.current.querySelector(`[data-project-id="${e}"]`);if(!i)return;const n=s.current.getBoundingClientRect(),o=i.getBoundingClientRect(),c=o.top-n.top,t=o.bottom-n.top,p=s.current.clientHeight,g=s.current.scrollTop;c<0?d.to(s.current,{scrollTop:g+c-20,duration:.5,ease:"power2.out"}):t>p&&d.to(s.current,{scrollTop:g+(t-p)+20,duration:.5,ease:"power2.out"})};a.useEffect(()=>{u!==null&&!x&&w(u)},[u,x]);const S=(e,i)=>{const n=u===e.id,o=r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-[11px] text-neutral-500 mr-3 font-medium min-w-[25px] mt-0.5",children:e.number}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-[13px] font-medium text-neutral-800 mb-[3px] leading-[1.4]",children:e.name}),r.jsx("p",{className:"text-[11px] text-neutral-500 leading-[1.3]",children:e.location})]})]}),c=`
      flex items-start p-[12px_8px] cursor-pointer 
      transition-all duration-300 rounded-none relative mb-1
      hover:bg-black/5 hover:translate-x-[5px]
      ${n?"bg-black/[0.08] translate-x-[5px]":""}
    `;return r.jsx("div",{className:c,"data-project-id":e.id,onClick:t=>b(e,t),role:"button",tabIndex:0,onKeyDown:t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),b(e))},"aria-label":`Scroll to ${e.name} project`,children:o},e.id)};return r.jsxs("div",{ref:s,className:`
        fixed left-[5vw] top-[15vh] w-[400px] max-h-[70vh] 
        bg-white/95 backdrop-blur-[20px] -rounded-2xl p-[30px_25px]
        z-[5] transition-all duration-500 overflow-y-auto
        -shadow-[0_20px_60px_rgba(0,0,0,0.1)] custom-scrollbar
        will-change-[opacity,transform] hidden lg:block
        ${h?"opacity-100 translate-x-0":"opacity-0 -translate-x-[100px]"}
      `,id:"projectsSidebar",children:[r.jsx("div",{className:"flex justify-between items-center mb-[25px] pb-[15px] border-b border-black/10",children:r.jsx("h3",{className:"text-base font-semibold text-neutral-800",children:"Projects"})}),r.jsx("div",{className:"flex flex-col",children:I.map((e,i)=>S(e))})]})};export{C as default};
